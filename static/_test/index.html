<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
  html { height: 100% } 
  body { height: 100%; margin: 0px; padding: 0px }
  #map_canvas { height: 100% }
</style>
<script type="text/javascript"
    src="https://maps.google.com/maps/api/js?sensor=false">
</script>
<script type="text/javascript">
  function initialize() {
    var latlng = new google.maps.LatLng(-31.771083, -52.325821);            //Posicao do mapa
    var myOptions = {
      zoom: 15,                                                             //O tamanho do zoom
      center: latlng,
      zoomControl:false,
      mapTypeId: google.maps.MapTypeId.ROADMAP                              //Tipo de mapa
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),    //Constroi o mapa segundo a div e myOptions
        myOptions);
    var latitude, logitude;
    var image = 'beachflag.png';                                            //modifica o icone
    var marker = new google.maps.Marker({                                   //Cira um marcador com posicao em latLng, no map map, icone é imagem e animação e titulo
      position: latlng, 
      map: map,
      draggable:true,
      icon: image,
      animation: google.maps.Animation.DROP,
      title:"oi"
  });
  google.maps.event.addListener(marker, 'click', toggleBounce);             //Exectua a função toggleBounce quando é clicado
  //google.maps.event.addListener(marker, 'dragend', mudou);                  //Executa a função mudou quando é arrastado
  google.maps.event.addListener(marker, 'dragend', function() {
          latitude = marker.getPosition().lat();
          logitude = marker.getPosition().lng();
          alert('Latitude: ' + latitude + ' \n ' + 'Longitude: '+ logitude );
        });
  }
  
  function toggleBounce() {             //Função

  if (marker.getAnimation() != null) {
    marker.setAnimation(null);
  } else {
    marker.setAnimation(google.maps.Animation.BOUNCE);
  }
}

</script>
</head>
<body onload="initialize()">
  <div id="map_canvas" style="width:100%; height:100%"></div>
  
</body>
</html>
